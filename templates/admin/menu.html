{% extends "base.html" %} {% block title %}Menu Management - Admin - Savory
Restaurant{% endblock %} {% block content %}
<!-- Admin Header -->
<section class="admin-header">
    <div class="container">
        <div class="admin-nav">
            <h1>Menu Management</h1>
            <nav class="admin-nav-links">
                <a
                    href="{{ url_for('admin_dashboard') }}"
                    class="admin-nav-link"
                >
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <a
                    href="{{ url_for('admin_menu') }}"
                    class="admin-nav-link active"
                >
                    <i class="fas fa-utensils"></i>
                    Menu Management
                </a>
                <a href="{{ url_for('admin_orders') }}" class="admin-nav-link">
                    <i class="fas fa-shopping-bag"></i>
                    Orders
                </a>
                <a
                    href="{{ url_for('admin_reservations') }}"
                    class="admin-nav-link"
                >
                    <i class="fas fa-calendar"></i>
                    Reservations
                </a>
            </nav>
        </div>
    </div>
</section>

<!-- Menu Management Section -->
<section class="admin-content">
    <div class="container">
        <div class="content-header">
            <div class="header-actions">
                <button class="btn btn-primary" id="add-item-btn">
                    <i class="fas fa-plus"></i>
                    Add Menu Item
                </button>
            </div>
        </div>

        <!-- Menu Items Table -->
        <div class="admin-table-container">
            <table class="admin-table" id="menu-table">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Popular</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="menu-table-body">
                    <tr>
                        <td colspan="7" class="loading-cell">
                            <div class="loading-spinner">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Loading menu items...</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<!-- Add/Edit Menu Item Modal -->
<div class="modal" id="menu-item-modal">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <div class="modal-body">
            <h3 id="modal-title">Add Menu Item</h3>
            <form id="menu-item-form">
                <input type="hidden" id="item-id" />

                <div class="form-group">
                    <label for="item-name">Name *</label>
                    <input type="text" id="item-name" required />
                    <div class="error-message" id="name-error"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="item-category">Category *</label>
                        <select id="item-category" required>
                            <option value="">Select Category</option>
                            <option value="starters">Starters</option>
                            <option value="main-course">Main Course</option>
                            <option value="desserts">Desserts</option>
                            <option value="beverages">Beverages</option>
                        </select>
                        <div class="error-message" id="category-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="item-price">Price *</label>
                        <input
                            type="number"
                            id="item-price"
                            step="0.01"
                            min="0"
                            required
                        />
                        <div class="error-message" id="price-error"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="item-description">Description *</label>
                    <textarea
                        id="item-description"
                        required
                        rows="3"
                    ></textarea>
                    <div class="error-message" id="description-error"></div>
                </div>

                <div class="form-group">
                    <label for="item-image">Image URL</label>
                    <input
                        type="url"
                        id="item-image"
                        placeholder="https://example.com/image.jpg"
                    />
                    <div class="error-message" id="image-error"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="item-available" />
                            <span class="checkmark"></span>
                            Available
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="item-popular" />
                            <span class="checkmark"></span>
                            Popular Item
                        </label>
                    </div>
                </div>

                <div class="error-message" id="form-error"></div>

                <div class="modal-actions">
                    <button
                        type="button"
                        class="btn btn-secondary"
                        onclick="closeModal()"
                    >
                        Cancel
                    </button>
                    <button
                        type="submit"
                        class="btn btn-primary"
                        id="save-item-btn"
                    >
                        <span id="save-text">Save Item</span>
                        <i
                            class="fas fa-spinner fa-spin"
                            id="save-spinner"
                            style="display: none"
                        ></i>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div class="modal" id="delete-modal">
    <div class="modal-content">
        <div class="modal-body">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <h3>Delete Menu Item</h3>
            <p>
                Are you sure you want to delete this menu item? This action
                cannot be undone.
            </p>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal()">
                    Cancel
                </button>
                <button class="btn btn-danger" id="confirm-delete-btn">
                    Delete
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %} {% block extra_scripts %}
<script src="{{ url_for('static', filename='js/admin/menu.js') }}"></script>
{% endblock %}
