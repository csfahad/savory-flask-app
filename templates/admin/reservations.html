{% extends "base.html" %} {% block title %}Reservations Management - Admin -
Savory Restaurant{% endblock %} {% block content %}

<!-- Admin Header -->
<section class="admin-header">
    <div class="container">
        <div class="admin-nav">
            <h1>Reservations Management</h1>
            <nav class="admin-nav-links">
                <a
                    href="{{ url_for('admin_dashboard') }}"
                    class="admin-nav-link"
                >
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <a href="{{ url_for('admin_menu') }}" class="admin-nav-link">
                    <i class="fas fa-utensils"></i>
                    Menu Management
                </a>
                <a href="{{ url_for('admin_orders') }}" class="admin-nav-link">
                    <i class="fas fa-shopping-bag"></i>
                    Orders
                </a>
                <a
                    href="{{ url_for('admin_reservations') }}"
                    class="admin-nav-link active"
                >
                    <i class="fas fa-calendar"></i>
                    Reservations
                </a>
            </nav>
        </div>
    </div>
</section>

<!-- Reservations Management Section -->
<section class="admin-content">
    <div class="container">
        <div class="content-header">
            <div class="reservations-filters">
                <button class="filter-btn active" data-status="all">
                    All Reservations
                </button>
                <button class="filter-btn" data-status="pending">
                    Pending
                </button>
                <button class="filter-btn" data-status="confirmed">
                    Confirmed
                </button>
                <button class="filter-btn" data-status="cancelled">
                    Cancelled
                </button>
            </div>
        </div>

        <!-- Reservations Table -->
        <div class="admin-table-container">
            <table class="admin-table" id="reservations-table">
                <thead>
                    <tr>
                        <th>Reservation ID</th>
                        <th>Customer</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Guests</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="reservations-table-body">
                    <tr>
                        <td colspan="7" class="loading-cell">
                            <div class="loading-spinner">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Loading reservations...</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<!-- Reservation Details Modal -->
<div class="modal" id="reservation-details-modal">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <div class="modal-body">
            <div class="reservation-details" id="reservation-details-content">
                <!-- Reservation details will be loaded here -->
            </div>
        </div>
    </div>
</div>

<!-- Update Status Modal -->
<div class="modal" id="reservation-status-modal">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <div class="modal-body">
            <h3>Update Reservation Status</h3>
            <form id="reservation-status-form">
                <input type="hidden" id="status-reservation-id" />

                <div class="form-group">
                    <label for="reservation-status">Status</label>
                    <select id="reservation-status" required>
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>

                <div class="modal-actions">
                    <button
                        type="button"
                        class="btn btn-secondary"
                        onclick="closeModal()"
                    >
                        Cancel
                    </button>
                    <button
                        type="submit"
                        class="btn btn-primary"
                        id="update-reservation-status-btn"
                    >
                        Update Status
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %} {% block extra_scripts %}
<script src="{{ url_for('static', filename='js/admin/reservations.js') }}"></script>
{% endblock %}
